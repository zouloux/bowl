{% block "favicon" %}
    <link rel="icon" href="{{ base }}favicons/favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="{{ base }}favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="{{ base }}favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="{{ base }}favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="{{ base }}favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="{{ base }}favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="{{ base }}favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="{{ base }}favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="{{ base }}favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ base }}favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="{{ base }}favicons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ base }}favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="{{ base }}favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ base }}favicons/favicon-16x16.png">
    <link rel="manifest" href="{{ base }}favicons/manifest.json">
    <meta name="msapplication-TileImage" content="{{ base }}favicons/ms-icon-144x144.png">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
{% endblock %}

{% if theme.favicon is defined %}

    {# Get favicon sizes and short title #}
    {% set faviconSizes = favicon.media[ favicon.file ].sizes %}
    {% set appTitle = favicon.name is defined ? favicon.name : site.title %}

    {# COMMON BROWSERS #}
    <link rel="shortcut icon" href="{{ base }}{{ faviconSizes['_favicon-32'] }}">
    <link rel="icon" type="image/png" sizes="192x192" href="{{ base }}{{ faviconSizes['_favicon-192'] }}">

    {# IOS #}
    <link rel="apple-touch-icon" href="{{ base }}{{ faviconSizes['_favicon-180'] }}">
    {% if favicon.webapp is defined %}
        {#        FIXME : https://gist.github.com/tfausak/2222823 #}
        {#        FIXME : https://stackoverflow.com/questions/4687698/multiple-apple-touch-startup-image-resolutions-for-ios-web-app-esp-for-ipad #}
        {#        <link rel="apple-touch-startup-image" href="{{ base }}{{ faviconSizes['_favicon-310'] }}">#}
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-title" content="{{ appTitle }}">
        <meta name="apple-mobile-web-app-status-bar-style" content="{{ favicon.webapp.iosHead }}">
    {% endif %}

    {# ANDROID #}
    {% if favicon.webapp is defined %}
        <link rel="manifest" href="{{ base }}icons-manifest.json">
        {% if favicon.themeColor is defined %}
            <meta name="theme-color" content="{{ favicon.themeColor }}">
        {% endif %}
    {% endif %}

    {# MICROSOFT #}
    <meta name="msapplication-config" content="none">
    <meta name="msapplication-square310x310logo" content="{{ base }}{{ faviconSizes['_favicon-310'] }}">
    <meta name="msapplication-TileImage" content="{{ base }}{{ faviconSizes['_favicon-144'] }}"/>
    {% if favicon.backgroundColor is defined %}
        <meta name="msapplication-TileColor" content="{{ favicon.backgroundColor }}">
    {% endif %}

{% endif %}